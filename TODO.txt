TODO:
- once you get volumes to sync sometimes the JS is still not recompiling

Current task:
- Airbnb is not really publicly written on the blockChain might need to correct the graphics, and explanation text

Issues/PRs open:

Fractional Usage Stuff to do: 
- currently we have simple Craigs list steps. Fractional usage has different steps, because you are not buying stuff but renting stuff. Or using a service. See how may workflows we need to cover with this. No arbitration logic untill now. Start some kind of product document as a result of this. Ask Tyler or Stan. The result is the UI with the steps that needed to be taken outlined.  


curl -X GET "localhost:9200/listings/_search?pretty" -H 'Content-Type: application/json' -d'
{
  "query": {
    "bool": {
      "must": [
        { "match": {"all_text": "garage"} }
      ],
      "filter": [
        {
          "range": {
            "price.amount": {
              "lte": 10
            }
          }
        },
        {
          "range": {
            "price.amount": {
              "gte": 2
            }
          }
        },
        {
          "bool": {
            "should": [
              { "match": {"category": "Housing"} },
              { "match": {"category": "Housing111"} }
            ]
          }
        },
        {
          "bool": {
            "should": [
              { "match": {"subCategory": "Housing"} },
              { "match": {"subCategory": "Vacation Rentals"} }
            ]
          }
        }
      ]
    }
  },
  "_source": ["title", "description", "price"]
}
'

curl -X POST "localhost:9200/listings/listing/999-001-17/_explain?pretty" -H 'Content-Type: application/json' -d'
{
  "query": {
    "function_score": {
      "query": {
        "bool": {
          "must": [
            { "match": {"all_text": "wish"} }
          ]
        }
      },
      "field_value_factor": { 
        "field": "commission.amount",
        "factor": 0.005
      },
      "boost_mode": "sum"
    }
  }
}
'

curl -X POST "localhost:9200/listings/_search?pretty" -H 'Content-Type: application/json' -d'
{
  "query": {
    "function_score": {
        "boost_mode": "sum",
        "field_value_factor": {
            "factor": 0.005,
            "field": "commission.amount"
        },
        "query": {
            "bool": {
                "filter": [],
                "must": [
                  { "match": {
                      "all_text": {
                        "query": "garages",
                        "fuzziness": "AUTO"
                      }
                    }
                  },
                  {
                    "match": {
                      "status": "active"
                    }
                  }
                ],
                "must_not": [
                {
                  "ids" : {
                    "values" : ["999-000-1"]
                  }
                }
                ],
                "should": [
                {
                  "ids" : {
                    "values" : ["999-000-0"],
                    "boost": 10
                  }
                }]
            }
        }
    }
  }
}
'

// get all listings with missing comission
curl -X POST "localhost:9200/listings/_search?pretty" -H 'Content-Type: application/json' -d'
{
  "query": {
    "bool": {
      "must_not": {
        "exists": {
          "field": "commission.amount"
        }
      }
    }
  }
}
'

curl -X POST "localhost:9200/listings/_search?pretty" -H 'Content-Type: application/json' -d'
{
  "query": {
    "fuzzy": {
      "all_text": "garages1"
    }
  }
}
'

curl -X POST "localhost:9200/_aliases?pretty" -H 'Content-Type: application/json' -d'
{
    "actions" : [
        { "add" : { "index" : "listings", "alias" : "listings1" } }
    ]
}
'


curl -X GET "localhost:9200/_mapping?pretty"
curl -X GET "localhost:9200/listings/listing/999-000-0?pretty"
curl -X GET "localhost:9200/listings/listing/999-001-2?pretty"
curl -X DELETE 'localhost:9200/listings' 
curl -X GET 'localhost:9200/listings/_mapping?pretty'





Confirmation pooling on transactions

Metamask 4.11.1 localhost:
* deploying profile contract, saving another profile transaction:
  - normal on confirmation triggered, fallback safety function canceled

Metamask 4.11.1 Rinkeby:
* saving another profile info, creating a listing
  - normal on confirmation triggered, fallback safety function canceled
* deploying identity contract
  - fallback function confirmed deployment

Metamask 4.11.1 Mainnet:
* saving another profile info, creating a listing
  - normal on confirmation triggered, fallback safety function canceled
* deploying identity contract
  - fallback function confirmed deployment



Metamask 4.12.0 localhost:
* deploying identity contract, saving another profile info, creating a listing
  - fallback function keeps confirming but confirmation number does not rise over 0. 
  - often crashes Ganache

Metamask 4.12.0 Rinkeby:
* deploying identity contract
  - contract deployed but Modal throws error "Failed to subscribe to new newBlockHeaders..." Fallback function successfuly confirms transactions.
* saving another profile info, creating a listing
  - tranasction succeeds. Fallback function successfuly confirms transactions.

Metamask 4.12.0 Mainnet:
* deploying identity contract
  - contract deployed but Modal throws error "Failed to subscribe to new newBlockHeaders..." Fallback function successfuly confirms transactions.
* saving another profile info, creating a listing
  - tranasction succeeds. Fallback function successfuly confirms transactions.


